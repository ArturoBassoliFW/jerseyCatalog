{% extends "base.html" %}
{% block title %}{{ titolo_pagina }}{% endblock %}

{% block content %}
    <div class="dashboard-header">
        <h1>ğŸ‘‹ Ciao, {{ user.username }}!</h1>
        <div class="dashboard-stats">
            <strong>{{ maglie.count }}</strong> maglie nella tua collezione
        </div>
    </div>
    
    <div class="action-bar">
        <a href="{% url 'aggiungi_maglia' %}" role="button">
            â• Aggiungi Nuova Maglia
        </a>
    </div>
    
    <div class="section-header">
        <h3>La Tua Collezione</h3>
    </div>
    
    {% if maglie %}
    <div class="gallery-grid">
        {% for maglia in maglie %}
            <article class="jersey-showcase-card">
                <div class="jersey-image-wrapper">
                    {% if maglia.foto %}
                        <img src="{{ maglia.foto.url }}" alt="{{ maglia.giocatore }}" class="jersey-image">
                    {% else %}
                        <div class="no-image-placeholder">ğŸ‘•</div>
                    {% endif %}
                    <span class="status-badge {% if maglia.visibile_in_vetrina %}public{% else %}private{% endif %}">
                        {% if maglia.visibile_in_vetrina %}ğŸŒ Pubblica{% else %}ğŸ”’ Privata{% endif %}
                    </span>
                </div>
                <div class="jersey-info">
                    <div class="jersey-team">{{ maglia.squadra }}</div>
                    <h3 class="jersey-player">{{ maglia.giocatore }}</h3>
                    <p class="jersey-season">Stagione {{ maglia.anno_stagione }}</p>
                    
                    <div class="jersey-actions">
                        <a href="{% url 'dettaglio_maglia' maglia.pk %}" role="button" class="btn-action primary">ğŸ‘ï¸ Vedi</a>
                        
                        <a href="{% url 'modifica_maglia' pk=maglia.pk %}" role="button" class="btn-action secondary-fill">âœï¸ Modifica</a>
                        
                        <a href="{% url 'elimina_maglia' pk=maglia.pk %}" class="btn-action danger" aria-label="Elimina maglia">
                            ğŸ—‘ï¸
                        </a>
                    </div>
                </div>
            </article>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <h3>ğŸ“¦ La tua collezione Ã¨ vuota</h3>
        <p>Inizia ad aggiungere le tue maglie preferite!</p>
        <a href="{% url 'aggiungi_maglia' %}" role="button" class="contrast" style="margin-top: 1rem;">
            Aggiungi la Prima Maglia
        </a>
    </div>
    {% endif %}
{% endblock %}