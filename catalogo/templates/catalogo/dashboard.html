{% extends "base.html" %}

{% block title %}{{ titolo_pagina }}{% endblock %}

{% block content %}
    <h1>Benvenuto nella tua Collezione, {{ user.username }}!</h1>
    
    <p>
        <a href="{% url 'aggiungi_maglia' %}" role="button" class="secondary">
            âž• Aggiungi Nuova Maglia
        </a>
    </p>

    <hgroup>
        <h3>Tutte le Tue Maglie</h3>
        <p>({{ maglie.count }} in totale)</p>
    </hgroup>

    {% if maglie %}
        <div class="grid">
            {% for maglia in maglie %}
                <article 
                    style="border-left: 5px solid {% if maglia.visibile_in_vetrina %}var(--pico-color-success){% else %}var(--pico-color-danger){% endif %};"
                >
                    <h5 style="margin-bottom: 0;">{{ maglia.squadra }}</h5>
                    <h4>{{ maglia.giocatore }} ({{ maglia.anno_stagione }})</h4>
                    
                    {% if maglia.foto %}
                        <img src="{{ maglia.foto.url }}" alt="Maglia {{ maglia.giocatore }}" style="width: 100%; max-height: 200px; object-fit: cover; border-radius: 4px; margin-bottom: 10px;">
                    {% endif %}

                    <p>
                        Stato: 
                        {% if maglia.visibile_in_vetrina %}
                            <mark style="background-color: var(--pico-color-success);">Pubblica in Vetrina</mark>
                        {% else %}
                            <mark style="background-color: var(--pico-color-danger);">Privata</mark>
                        {% endif %}
                    </p>

                    <footer>
                        <a href="{% url 'dettaglio_maglia' maglia.pk %}" role="button" class="contrast outline">Dettagli</a>
                        <a href="{% url 'modifica_maglia' pk=maglia.pk %}" role="button" class="secondary outline">Modifica</a> 
                        <a href="{% url 'elimina_maglia' pk=maglia.pk %}" role="button" class="danger outline">Elimina</a>
                    </footer>
                </article>
            {% endfor %}
        </div>
    {% else %}
        <p>Non hai ancora aggiunto maglie alla tua collezione. Inizia subito!</p>
    {% endif %}

{% endblock %}